{"ast":null,"code":"import _classCallCheck from \"/home/michael/code/chavez-hs-planner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/michael/code/chavez-hs-planner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/michael/code/chavez-hs-planner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/michael/code/chavez-hs-planner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/michael/code/chavez-hs-planner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/michael/code/chavez-hs-planner/src/path-to-hs/components/hs-display/hs-program-element.tsx\";\nimport * as React from \"react\";\nimport { SuccessChance } from \"../../../shared/enums\";\nimport { shallowCompare } from \"../../../shared/util/shallow-compare\";\nimport { ProgramCard } from \"../../../shared/components/program-card\";\nimport \"./hs-program-element.scss\";\n\nvar HSProgramElement =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(HSProgramElement, _React$Component);\n\n  function HSProgramElement(props) {\n    var _this;\n\n    _classCallCheck(this, HSProgramElement);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HSProgramElement).call(this, props));\n\n    _this.handleClick = function (ev) {\n      _this.setState({\n        visited: true\n      });\n\n      _this.props.onSelect(_this.props.program, _this.props.outcome);\n    };\n\n    _this.state = {\n      visited: false,\n      combinedSuccessChance: props.outcome === undefined ? SuccessChance.NOTIMPLEMENTED : props.outcome.overallChance\n    };\n    return _this;\n  }\n\n  _createClass(HSProgramElement, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      // assume props.program does not change\n      // compare props.onSelect\n      if (nextProps.onSelect !== this.props.onSelect) {\n        return true;\n      } // shallow compare outcome\n\n\n      if (nextProps.outcome === undefined || this.props.outcome === undefined) {\n        if (nextProps.outcome !== this.props.outcome) {\n          return true;\n        }\n      } else {\n        if (shallowCompare(nextProps.outcome, this.props.outcome) === false) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      this.setState({\n        combinedSuccessChance: nextProps.outcome.overallChance\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"button\", {\n        className: \"hs-list-element\",\n        onClick: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(ProgramCard, {\n        outcome: this.state.combinedSuccessChance,\n        displayName: this.props.program.schoolNameShort,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return HSProgramElement;\n}(React.Component);\n\nexport default HSProgramElement;","map":{"version":3,"sources":["/home/michael/code/chavez-hs-planner/src/path-to-hs/components/hs-display/hs-program-element.tsx"],"names":["React","SuccessChance","shallowCompare","ProgramCard","HSProgramElement","props","handleClick","ev","setState","visited","onSelect","program","outcome","state","combinedSuccessChance","undefined","NOTIMPLEMENTED","overallChance","nextProps","nextState","schoolNameShort","Component"],"mappings":";;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAOA,SAASC,aAAT,QAA8B,uBAA9B;AAEA,SAASC,cAAT,QAA+B,sCAA/B;AACA,SAASC,WAAT,QAA4B,yCAA5B;AAaA,OAAO,2BAAP;;IAEMC,gB;;;;;AAEJ,4BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,0FAAMA,KAAN;;AADiB,UAkDXC,WAlDW,GAkDG,UAACC,EAAD,EAAQ;AAC5B,YAAKC,QAAL,CAAc;AAACC,QAAAA,OAAO,EAAE;AAAV,OAAd;;AACA,YAAKJ,KAAL,CAAWK,QAAX,CAAoB,MAAKL,KAAL,CAAWM,OAA/B,EAAwC,MAAKN,KAAL,CAAWO,OAAnD;AACD,KArDkB;;AAEjB,UAAKC,KAAL,GAAa;AACXJ,MAAAA,OAAO,EAAE,KADE;AAEXK,MAAAA,qBAAqB,EAAET,KAAK,CAACO,OAAN,KAAkBG,SAAlB,GAA8Bd,aAAa,CAACe,cAA5C,GAA6DX,KAAK,CAACO,OAAN,CAAcK;AAFvF,KAAb;AAFiB;AAMlB;;;;0CAEqBC,S,EAA+BC,S,EAA+B;AAClF;AAEA;AACA,UAAID,SAAS,CAACR,QAAV,KAAuB,KAAKL,KAAL,CAAWK,QAAtC,EAAgD;AAC9C,eAAO,IAAP;AACD,OANiF,CAQlF;;;AACA,UAAIQ,SAAS,CAACN,OAAV,KAAsBG,SAAtB,IAAmC,KAAKV,KAAL,CAAWO,OAAX,KAAuBG,SAA9D,EAAyE;AACvE,YAAIG,SAAS,CAACN,OAAV,KAAsB,KAAKP,KAAL,CAAWO,OAArC,EAA8C;AAC5C,iBAAO,IAAP;AACD;AACF,OAJD,MAIO;AACL,YAAIV,cAAc,CAACgB,SAAS,CAACN,OAAX,EAAoB,KAAKP,KAAL,CAAWO,OAA/B,CAAd,KAA0D,KAA9D,EAAqE;AACnE,iBAAO,IAAP;AACD;AACF;;AAED,aAAO,KAAP;AACD;;;8CAEyBM,S,EAAW;AACnC,WAAKV,QAAL,CAAc;AACZM,QAAAA,qBAAqB,EAAEI,SAAS,CAACN,OAAV,CAAkBK;AAD7B,OAAd;AAGD;;;6BAEQ;AACP,aACE;AACE,QAAA,SAAS,EAAC,iBADZ;AAEE,QAAA,OAAO,EAAE,KAAKX,WAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIA,oBAAC,WAAD;AACE,QAAA,OAAO,EAAE,KAAKO,KAAL,CAAWC,qBADtB;AAEE,QAAA,WAAW,EAAE,KAAKT,KAAL,CAAWM,OAAX,CAAmBS,eAFlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJA,CADF;AAWD;;;;EAlD4BpB,KAAK,CAACqB,S;;AA2DrC,eAAejB,gBAAf","sourcesContent":["import * as React from \"react\";\n\nimport { \n  Program, \n  ProgramOutcome\n} from \"../../../shared/types\";\n\nimport { SuccessChance } from \"../../../shared/enums\";\n\nimport { shallowCompare } from \"../../../shared/util/shallow-compare\";\nimport { ProgramCard } from \"../../../shared/components/program-card\";\n\ninterface HSProgramElemProps {\n  program: Program\n  outcome: ProgramOutcome | undefined\n  onSelect: (program: Program, outcome: ProgramOutcome | undefined) => any\n}\n\ninterface HSProgramElemState {\n  visited: boolean\n  combinedSuccessChance: SuccessChance\n}\n\nimport \"./hs-program-element.scss\";\n\nclass HSProgramElement extends React.Component<HSProgramElemProps, HSProgramElemState> {\n\n  constructor(props) {\n    super(props);\n    this.state = { \n      visited: false,\n      combinedSuccessChance: props.outcome === undefined ? SuccessChance.NOTIMPLEMENTED : props.outcome.overallChance,\n    };\n  }\n\n  shouldComponentUpdate(nextProps: HSProgramElemProps, nextState: HSProgramElemState) {\n    // assume props.program does not change\n    \n    // compare props.onSelect\n    if (nextProps.onSelect !== this.props.onSelect) {\n      return true;\n    }\n   \n    // shallow compare outcome\n    if (nextProps.outcome === undefined || this.props.outcome === undefined) {\n      if (nextProps.outcome !== this.props.outcome) {\n        return true;\n      }\n    } else {\n      if (shallowCompare(nextProps.outcome, this.props.outcome) === false) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      combinedSuccessChance: nextProps.outcome.overallChance\n    });\n  }\n\n  render() {\n    return (\n      <button \n        className=\"hs-list-element\"\n        onClick={this.handleClick}\n      >\n      <ProgramCard \n        outcome={this.state.combinedSuccessChance}\n        displayName={this.props.program.schoolNameShort}\n      />\n      </button>\n    )\n  }\n\n  private handleClick = (ev) => {\n    this.setState({visited: true});\n    this.props.onSelect(this.props.program, this.props.outcome);\n  }\n\n}\n\nexport default HSProgramElement;\n"]},"metadata":{},"sourceType":"module"}