{"ast":null,"code":"import { ActionType, ScoreType } from \"../../../shared/enums\";\nimport * as debounce from \"lodash.debounce\";\nimport { getTierAndGeo } from \"../utils/get-tier-and-geo\";\nexport { loadAllData } from \"./data-loading\";\nexport * from \"./update-program-outcomes\";\nvar API_REQUEST_DEBOUNCE_DELAY = 1500; //ms\n\nexport var updateStudentAttendPercentage = function updateStudentAttendPercentage(newValue) {\n  return {\n    type: ActionType.UpdateStudentAttendPercentage,\n    payload: newValue\n  };\n};\nexport var updateStudentELLStatus = function updateStudentELLStatus(newValue) {\n  return {\n    type: ActionType.UpdateStudentELLStatus,\n    payload: newValue\n  };\n};\nexport var updateStudentGender = function updateStudentGender(newValue) {\n  return {\n    type: ActionType.UpdateStudentGender,\n    payload: newValue\n  };\n};\nexport var updateStudentGradeLevel = function updateStudentGradeLevel(newValue) {\n  return {\n    type: ActionType.UpdateStudentGradeLevel,\n    payload: newValue\n  };\n};\nexport var updateStudentPrevGradeLevel = function updateStudentPrevGradeLevel(newValue) {\n  return {\n    type: ActionType.UpdateStudentPrevGradeLevel,\n    payload: newValue\n  };\n};\nexport var updateStudentIEPStatus = function updateStudentIEPStatus(newValue) {\n  return {\n    type: ActionType.UpdateStudentIEPStatus,\n    payload: newValue\n  };\n};\nexport var updateStudentCurrESProgram = function updateStudentCurrESProgram(newValue) {\n  return {\n    type: ActionType.UpdateStudentCurrESProgram,\n    payload: newValue\n  };\n};\nexport var updateStudentSiblingHSSchools = function updateStudentSiblingHSSchools(newValues) {\n  return {\n    type: ActionType.UpdateStudentSiblingHSSchools,\n    payload: newValues\n  };\n};\nexport var updateStudentSkip7OrRepeated8 = function updateStudentSkip7OrRepeated8(newValue) {\n  return {\n    type: ActionType.UpdateStudentSkip7OrRepeated8,\n    payload: newValue\n  };\n};\nexport var updateStudentNWEAPercentileMath = function updateStudentNWEAPercentileMath(newValue) {\n  return {\n    type: ActionType.UpdateStudentNWEAPercentileMath,\n    payload: newValue\n  };\n};\nexport var updateStudentNWEAPercentileRead = function updateStudentNWEAPercentileRead(newValue) {\n  return {\n    type: ActionType.UpdateStudentNWEAPercentileRead,\n    payload: newValue\n  };\n};\nexport var updateStudentSubjGradeMath = function updateStudentSubjGradeMath(newValue) {\n  return {\n    type: ActionType.UpdateStudentSubjGradeMath,\n    payload: newValue\n  };\n};\nexport var updateStudentSubjGradeRead = function updateStudentSubjGradeRead(newValue) {\n  return {\n    type: ActionType.UpdateStudentSubjGradeRead,\n    payload: newValue\n  };\n};\nexport var updateStudentSubjGradeSci = function updateStudentSubjGradeSci(newValue) {\n  return {\n    type: ActionType.UpdateStudentSubjGradeSci,\n    payload: newValue\n  };\n};\nexport var updateStudentSubjGradeSocStudies = function updateStudentSubjGradeSocStudies(newValue) {\n  return {\n    type: ActionType.UpdateStudentSubjGradeSocStudies,\n    payload: newValue\n  };\n};\nexport var updateStudentSETestPercentile = function updateStudentSETestPercentile(newValue) {\n  return {\n    type: ActionType.UpdateStudentSETestPercentile,\n    payload: newValue\n  };\n};\nexport var updateStudentScore = function updateStudentScore(scoreType, newValue) {\n  var actionType;\n\n  switch (scoreType) {\n    case ScoreType.nweaPercentileMath:\n      actionType = ActionType.UpdateStudentNWEAPercentileMath;\n      break;\n\n    case ScoreType.nweaPercentileRead:\n      actionType = ActionType.UpdateStudentNWEAPercentileRead;\n      break;\n\n    case ScoreType.subjGradeMath:\n      actionType = ActionType.UpdateStudentSubjGradeMath;\n      break;\n\n    case ScoreType.subjGradeRead:\n      actionType = ActionType.UpdateStudentSubjGradeRead;\n      break;\n\n    case ScoreType.subjGradeSci:\n      actionType = ActionType.UpdateStudentSubjGradeSci;\n      break;\n\n    case ScoreType.subjGradeSocStudies:\n      actionType = ActionType.UpdateStudentSubjGradeSocStudies;\n      break;\n\n    case ScoreType.seTestPercentile:\n      actionType = ActionType.UpdateStudentSETestPercentile;\n      break;\n\n    default:\n      throw new Error(\"Unrecognized ScoreType: \".concat(scoreType));\n  }\n\n  return {\n    type: actionType,\n    payload: newValue\n  };\n};\nexport var openProgramModal = function openProgramModal(program, outcome) {\n  return {\n    type: ActionType.OpenProgramModal,\n    program: program,\n    outcome: outcome === undefined ? null : outcome\n  };\n};\nexport var closeProgramModal = function closeProgramModal() {\n  return {\n    type: ActionType.CloseProgramModal\n  };\n};\nexport var updateStudentTier = function updateStudentTier(tier) {\n  return {\n    type: ActionType.UpdateStudentTier,\n    payload: tier\n  };\n};\nexport var updateStudentGeo = function updateStudentGeo(geo) {\n  return {\n    type: ActionType.UpdateStudentGeo,\n    payload: geo\n  };\n};\n\nvar __requestTierAndGeoInnerFn = debounce(function (dispatch, address) {\n  getTierAndGeo(address).then(function (res) {\n    dispatch(tierLoaded());\n    dispatch(updateStudentTier(res.tier));\n    dispatch(updateStudentGeo(res.geo));\n  });\n}, API_REQUEST_DEBOUNCE_DELAY);\n\nvar requestTierAndGeo = function requestTierAndGeo(address) {\n  return function (dispatch) {\n    return __requestTierAndGeoInnerFn(dispatch, address);\n  };\n};\n\nexport var updateStudentAddress = function updateStudentAddress(address) {\n  return function (dispatch) {\n    // update address\n    dispatch({\n      type: ActionType.UpdateStudentAddress,\n      payload: address\n    }); // FIXME add deobouncing, error handling\n\n    dispatch(loadingTier());\n    dispatch(requestTierAndGeo(address));\n  };\n};\nexport var loadingTier = function loadingTier() {\n  return {\n    type: ActionType.LoadingTier\n  };\n};\nexport var tierLoaded = function tierLoaded() {\n  return {\n    type: ActionType.TierLoaded\n  };\n};","map":{"version":3,"sources":["/home/michael/code/chavez-hs-planner/src/shared/redux/actions/index.ts"],"names":["ActionType","ScoreType","debounce","getTierAndGeo","loadAllData","API_REQUEST_DEBOUNCE_DELAY","updateStudentAttendPercentage","newValue","type","UpdateStudentAttendPercentage","payload","updateStudentELLStatus","UpdateStudentELLStatus","updateStudentGender","UpdateStudentGender","updateStudentGradeLevel","UpdateStudentGradeLevel","updateStudentPrevGradeLevel","UpdateStudentPrevGradeLevel","updateStudentIEPStatus","UpdateStudentIEPStatus","updateStudentCurrESProgram","UpdateStudentCurrESProgram","updateStudentSiblingHSSchools","newValues","UpdateStudentSiblingHSSchools","updateStudentSkip7OrRepeated8","UpdateStudentSkip7OrRepeated8","updateStudentNWEAPercentileMath","UpdateStudentNWEAPercentileMath","updateStudentNWEAPercentileRead","UpdateStudentNWEAPercentileRead","updateStudentSubjGradeMath","UpdateStudentSubjGradeMath","updateStudentSubjGradeRead","UpdateStudentSubjGradeRead","updateStudentSubjGradeSci","UpdateStudentSubjGradeSci","updateStudentSubjGradeSocStudies","UpdateStudentSubjGradeSocStudies","updateStudentSETestPercentile","UpdateStudentSETestPercentile","updateStudentScore","scoreType","actionType","nweaPercentileMath","nweaPercentileRead","subjGradeMath","subjGradeRead","subjGradeSci","subjGradeSocStudies","seTestPercentile","Error","openProgramModal","program","outcome","OpenProgramModal","undefined","closeProgramModal","CloseProgramModal","updateStudentTier","tier","UpdateStudentTier","updateStudentGeo","geo","UpdateStudentGeo","__requestTierAndGeoInnerFn","dispatch","address","then","res","tierLoaded","requestTierAndGeo","updateStudentAddress","UpdateStudentAddress","loadingTier","LoadingTier","TierLoaded"],"mappings":"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","sourcesContent":["import {\n  ActionType,\n  Gender,\n  ScoreType\n}  from \"../../../shared/enums\";\n\nimport { \n  LetterGrade,\n  Program,\n  ProgramOutcome,\n} from \"../../../shared/types\";\n\nimport * as debounce from \"lodash.debounce\";\n\nimport { getTierAndGeo } from \"../utils/get-tier-and-geo\";\nexport { loadAllData } from \"./data-loading\";\nexport * from \"./update-program-outcomes\";\n\nconst API_REQUEST_DEBOUNCE_DELAY = 1500; //ms\n\nexport const updateStudentAttendPercentage = (newValue: number) => {\n  return {\n    type: ActionType.UpdateStudentAttendPercentage,\n    payload: newValue\n  }\n};\n\nexport const updateStudentELLStatus = (newValue: boolean) => {\n  return {\n    type: ActionType.UpdateStudentELLStatus,\n    payload: newValue\n  }\n};\n\nexport const updateStudentGender = (newValue: Gender) => {\n  return {\n    type: ActionType.UpdateStudentGender,\n    payload: newValue\n  }\n};\n\nexport const updateStudentGradeLevel = (newValue: number) => {\n  return {\n    type: ActionType.UpdateStudentGradeLevel,\n    payload: newValue\n  }\n};\n\nexport const updateStudentPrevGradeLevel = (newValue: number) => {\n  return {\n    type: ActionType.UpdateStudentPrevGradeLevel,\n    payload: newValue\n  }\n};\n\nexport const updateStudentIEPStatus = (newValue: boolean) => {\n  return {\n    type: ActionType.UpdateStudentIEPStatus,\n    payload: newValue\n  }\n};\n\nexport const updateStudentCurrESProgram = (newValue: string) => {\n  return {\n    type: ActionType.UpdateStudentCurrESProgram,\n    payload: newValue \n  }\n};\n\nexport const updateStudentSiblingHSSchools = (newValues: string[]) => {\n  return {\n    type: ActionType.UpdateStudentSiblingHSSchools,\n    payload: newValues\n  }\n};\n\nexport const updateStudentSkip7OrRepeated8 = (newValue: boolean) => {\n  return {\n    type: ActionType.UpdateStudentSkip7OrRepeated8,\n    payload: newValue\n  }\n};\n\nexport const updateStudentNWEAPercentileMath = (newValue: number) => {\n  return {\n    type: ActionType.UpdateStudentNWEAPercentileMath,\n    payload: newValue\n  };\n};\n\nexport const updateStudentNWEAPercentileRead = (newValue: number) => {\n  return {\n    type: ActionType.UpdateStudentNWEAPercentileRead,\n    payload: newValue\n  };\n};\n\nexport const updateStudentSubjGradeMath = (newValue: LetterGrade) => {\n  return {\n    type: ActionType.UpdateStudentSubjGradeMath,\n    payload: newValue\n  };\n};\n\nexport const updateStudentSubjGradeRead = (newValue: LetterGrade) => {\n  return {\n    type: ActionType.UpdateStudentSubjGradeRead,\n    payload: newValue\n  };\n};\n\nexport const updateStudentSubjGradeSci = (newValue: LetterGrade) => {\n  return {\n    type: ActionType.UpdateStudentSubjGradeSci,\n    payload: newValue\n  };\n};\n\nexport const updateStudentSubjGradeSocStudies = (newValue: LetterGrade) => {\n  return {\n    type: ActionType.UpdateStudentSubjGradeSocStudies,\n    payload: newValue\n  };\n};\n\nexport const updateStudentSETestPercentile = (newValue: number) => {\n  return {\n    type: ActionType.UpdateStudentSETestPercentile,\n    payload: newValue\n  }\n};\n\nexport const updateStudentScore = (scoreType: ScoreType, newValue: number) => {\n  let actionType;\n  switch(scoreType) {\n    case ScoreType.nweaPercentileMath:\n      actionType = ActionType.UpdateStudentNWEAPercentileMath;\n      break;\n    case ScoreType.nweaPercentileRead:\n      actionType = ActionType.UpdateStudentNWEAPercentileRead;\n      break;\n    case ScoreType.subjGradeMath:\n      actionType = ActionType.UpdateStudentSubjGradeMath;\n      break;\n    case ScoreType.subjGradeRead:\n      actionType = ActionType.UpdateStudentSubjGradeRead;\n      break;\n    case ScoreType.subjGradeSci:\n      actionType = ActionType.UpdateStudentSubjGradeSci;\n      break;\n    case ScoreType.subjGradeSocStudies:\n      actionType = ActionType.UpdateStudentSubjGradeSocStudies;\n      break;\n    case ScoreType.seTestPercentile:\n      actionType = ActionType.UpdateStudentSETestPercentile;\n      break;\n    default:\n      throw new Error(`Unrecognized ScoreType: ${scoreType}`);\n  }\n  return {\n    type: actionType,\n    payload: newValue\n  };\n}\n\nexport const openProgramModal = (program: Program, outcome: ProgramOutcome | undefined) => {\n  return {\n    type: ActionType.OpenProgramModal,\n    program: program,\n    outcome: outcome === undefined ? null : outcome\n  }\n};\n\nexport const closeProgramModal = () => {\n  return {\n    type: ActionType.CloseProgramModal\n  }\n}\n\nexport const updateStudentTier = (tier: string) => {\n  return {\n    type: ActionType.UpdateStudentTier,\n    payload: tier\n  }\n};\n\nexport const updateStudentGeo = (geo: {latitude: number, longitude: number}) => {\n  return {\n    type: ActionType.UpdateStudentGeo,\n    payload: geo\n  }\n}\n\n\nconst __requestTierAndGeoInnerFn = debounce(\n  (dispatch, address) => {\n    getTierAndGeo(address).then(\n      (res) => {\n        dispatch(tierLoaded());\n        dispatch(updateStudentTier(res.tier));\n        dispatch(updateStudentGeo(res.geo));\n      }\n    );\n  }\n, API_REQUEST_DEBOUNCE_DELAY);\n\nconst requestTierAndGeo = (address: string) => {\n  return dispatch => __requestTierAndGeoInnerFn(dispatch, address);\n}\n\nexport const updateStudentAddress = (address: string) => {\n  return (dispatch) => {\n    // update address\n    dispatch({\n      type: ActionType.UpdateStudentAddress,\n      payload: address\n    });\n    // FIXME add deobouncing, error handling\n    dispatch(loadingTier());\n    dispatch(requestTierAndGeo(address));\n  }\n}\n\nexport const loadingTier = () => {\n  return {\n    type: ActionType.LoadingTier\n  }\n}\n\nexport const tierLoaded = () => {\n  return {\n    type: ActionType.TierLoaded\n  }\n}\n\n"]},"metadata":{},"sourceType":"module"}